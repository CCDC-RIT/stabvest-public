---
- name: Start Owlet Service (Linux/Unix)
  service:
    name: "owlet-{{ owlet_agent_name if ansible_os_family != 'FreeBSD' else '_' + owlet_agent_name }}"
    state: started
    enabled: yes
  when: ansible_os_family in ["RedHat", "Debian", "Alpine", "FreeBSD"]

- name: Start Owlet Service (Windows)
  win_service:
    name: "owlet-{{ owlet_agent_name }}"
    start_mode: auto
    state: started
  when: ansible_os_family == "Windows"